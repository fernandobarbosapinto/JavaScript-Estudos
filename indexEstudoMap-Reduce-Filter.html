<!DOCTYPE html>
<html>
<head>
	<title>Estudo de Map, filter e Reduce</title>
</head>
<script type="text/javascript">
	//Use map() quando: é preciso traduzir/mapear todos os elementos em um array para outro conjunto de valores.
	//O que map() faz: percorre o array da esquerda para a direita invocando uma função de retorno em cada elemento com parâmetros. Para cada chamada de retorno, o valor devolvido se torna o elemento do novo array. Depois que todos os elementos foram percorridos, map() retorna o novo array com todos os elementos “traduzidos”.
	// Parametro e Significados
	// elem  ==> Valor do elemento
	// index ==> Indice em cada iteração, da esquerda para a direita
	// array ==> Array original invocando o método
	// thisArg => (opcional) Objeto que será referenciado como THIS no callback

	var fahrenheit = [0, 32, 45, 50, 75, 80, 99, 120];
	var celcius = fahrenheit.map(function(elem){
		return Math.round((elem -32) * 5 / 9);
	});
	console.log('Celcius ==> ' + celcius);

	//Use filter() quando: é preciso remover elementos indesejados com base em alguma(s) condição(ões).
	//O que filter() faz: como map(), filter() percorre o array da esquerda para a direita invocando uma função de retorno em cada elemento. O valor retornado deve ser um booleano que indica se o elemento será mantido ou descartado. Depois de todos os elementos terem sido analisados, filter() retorna um novo array com todos os elementos que retornaram como verdadeiro.
	// Parametro e Significados
	// elem  ==> Valor do elemento
	// index ==> Indice em cada iteração, da esquerda para a direita
	// array ==> Array original invocando o método
	// thisArg => (opcional) Objeto que será referenciado como THIS no callback


	var frutas = ['maça', 'banana', 'laranja'];
	var uniqueProducts = frutas.filter( function( elem, index, array ) {
	    return array.indexOf( elem ) === index;
	    
	});
	console.log('Produtos ==> ' + uniqueProducts);

	//Use reduce() quando: é preciso encontrar um valor cumulativo ou concatenado com base em elementos de todo o array.
	//O que reduce() faz: como map(), reduce() percorre o array da esquerda para a direita invocando uma função de retorno em cada elemento. O valor retornado é o valor acumulado passado de callback para callback. Depois de todos os elementos terem sido avaliados, reduce() retorna o valor acumulado/concatenado.
	// Parametro e Significados
	// prevVal ==> Valor cumulado retornado em cada iteração
	// elem	==> Valor do elemento
	// index ==> Índice em cada iteração, da esquerda para a direita
	// array ==> Array original invocando o método
	// initialValue ==> (opcional) Objeto usado como primeiro argumento na primeira iteração (mais à esquerda)


	var rockets = [
	    { country:'Russia', launches:32 },
	    { country:'US', launches:23 },
	    { country:'China', launches:16 },
	    { country:'Europe(ESA)', launches:7 },
	    { country:'India', launches:4 },
	    { country:'Japan', launches:3 }
	];
	console.log(rockets);
	var sum = rockets.reduce(function(prevVal, elem){
		return prevVal + elem.launches;
	}, 0);
	console.log('Soma dos Lanches ==> ' + 'R$ ' + sum +'.00');

</script>
<body>

</body>
</html>