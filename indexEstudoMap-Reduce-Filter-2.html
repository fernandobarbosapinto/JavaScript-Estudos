<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>Estudo de Map, filter e Reduce</title>
</head>
<script type="text/javascript">
	//Código sem a utilização da função MAP
	let numbers = [1,2,3];
	let doubleNumbers = [];
	for (let i = 0; i < numbers.length; i++){
		doubleNumbers[i] = numbers[i] * 2;
	} 
	console.log('Números duplicados com FOR: ' + doubleNumbers);//[2, 4, 6]

	//Código utilizando MAP
	let numeros = [1,2,3];
	let dobraNumeros = numeros.map((elem) => elem * 2);
	console.log('Números duplicados com MAP: ' + dobraNumeros);//[2, 4, 6]

	//Utilizando a função MAP que retorna um novo array, da para fazer códigos como o abaixo:
	let numerosA = [1,2,3];
	let dobraNumeros_a = numerosA.map(elem => elem * 2).map(elem => elem + 1);
	console.log('Numeros duplicados e incrementados: ' + dobraNumeros_a);//[3, 5, 7]

	//lembrando sempre que o número de elementos de entrada será o mesmo número dos elementos de saída. Portanto, imagine o seguinte código:
	let numerosB = [1,2,3];
	let oddNumbers = numerosB.map(elem => {
		if(elem % 2 === 1){
			return elem;
		}
	});
	console.log('Retornando módulos de 2: ' + oddNumbers);//[1, undefined, 3];

	//Claro, este resultado não é o que queremos para uma função como esta. Precisamos de uma função que retorne somente os resultados que satisfaçam determinada condição que buscamos. Para tal, devemos utilizar a função filter:
	let numerosC = [1,2,3];
	let oddNumbersC = numerosC.filter(elem => elem % 2 === 1);
	console.log('Retornando módulos de 2 usando filter: ' + oddNumbersC);

	//Uma das grandes vantagens dos métodos map e filter é que eles retornam instâncias de Arrays, o que significa que podemos fazer utilizações como:
	let numbersD = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15];
	let oddDoubledNumbers = numbersD.filter(elem => elem % 2 === 1).map(elem => elem * 2);
	console.log('Trabalhando com Map e Filter: ' + oddDoubledNumbers); //[2, 6, 10, 14, 18, 22, 26, 30] - Números ímpares dobrados.

	//Além de modificar todos os itens de um array ou filtrar itens por determinadas condições, por vezes queremos efetuar operações que agreguem os valores, tais como a somatória de todos os itens ou a média dos valores do array:
	let numbersE = [1,3,5];
	let average = numbersE.reduce((total, currentElement) => total + currentElement, 0) / numbersE.length;
	console.log('Trabalhando com reduce: ' + average);

</script>
<body>

</body>
</html>